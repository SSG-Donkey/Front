<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>당신의 나눔은 귀하다 당나귀</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.2/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="icon" href="./assets/favicon.ico">
    <link rel="stylesheet" href="./css/general.css" />
    <link rel="stylesheet" href="./css/header.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/footer.css" />
</head>

<body>

<!-- header -->
<div id="header-placeholder"></div>

<!-- header -->
<header>
    <div class="header-wrap">
        <div class="logo">
            <a href="index.html">
          <span>
            <svg width="200" height="100" viewBox="0 0 200 56" fill="none" xmlns="http://www.w3.org/2000/svg">
              <image href="https://ssg-donkey-bucket.s3.ap-northeast-2.amazonaws.com/%EB%A1%9C%EA%B3%A0%EC%B5%9C%EC%A2%85.png" width="200" height="100" />
            </svg>
          </span>
            </a>
        </div>
        <div class="category">
            <ul>
                <li><a class="font-orange" href="index.html">홈으로</a></li>
                <li><a class="font-orange" href="/board.html">나눔 게시판 </a></li>
                <li><a class="font-orange" href="/write.html">나눔 글 작성</a></li>
                <li><a class="font-orange" href="/payment.html">포인트 충전하기</a></li>
                <li><a href="">로그인/회원가입</a></li>
            </ul>
        </div>
        <div class="search-block">
            <input class="search-bar" type="search" placeholder="물품이나 동네를 검색해보세요" />
        </div>
    </div>
</header>
<br><br><br><br><br><br><br>
<div class="container">
    <h1>나눔게시판작성</h1>
    <div>
        <h1><a class="home-button button-text2" style="float:right"  href="/board.html">이전으로 가기</a></h1>
    </div>


    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <form action="/api_post/write" method="post" class="needs-validation" enctype= "multipart/form-data" novalidate>
                        <div class="container">
                            <input type="hidden" class="form-control" style="font-size: 20px;" id="user_no" name="user_no"  value="1" required>
                            <input type="hidden" class="form-control" style="font-size: 20px;" id="post_views" name="post_views"  value="0" required>
                            <input type="hidden" class="form-control" style="font-size: 20px;" id="post_status" name="post_status"  value="0" required>
                            <div class="form-group mb-3">
                                <label for="post_title" class="form-label " style="font-size: 20px;">제목:</label>
                                <input type="text" class="form-control" style="font-size: 20px;" id="post_title" name="post_title"  placeholder="제목을 입력하세요"  required >
                            </div>
                            <div class="form-group mb-3">
                                <label for="region_no" class="form-label" style="font-size: 20px;">지역</label>
                                <select class="form-select" style="font-size: 20px;" id="region_no" name="region_no" required>
                                    <option value="0">선택하세요</option>
                                    <option value="1">서초구</option>
                                    <option value="2">강남구</option>

                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label for="point" class="form-label" style="font-size: 20px;">나눔 물건 금액</label>
                                <div class="input-group">
                                    <span class="input-group-text">￦</span>
                                    <input type="number" class="form-control" style="font-size: 20px;" id="point" name="point" min="1000" max="1000000" value="10000" required>
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <label for="post_category" class="form-label" style="font-size: 20px;">나눔 물건 종류</label>
                                <select class="form-select" style="font-size: 20px;" id="post_category" name="post_category" required>
                                    <option value="0">선택하세요</option>
                                    <option value="1">도서</option>
                                    <option value="2">의류</option>
                                    <option value="3">전자기기</option>
                                    <option value="4">가구</option>
                                    <option value="5">악세사리</option>
                                    <option value="6">생활용품</option>
                                    <option value="9">기타</option>
                                </select>
                            </div>

                            <div class="form-group mb-3">
                                <label for="post_content" class="form-label" style="font-size: 20px;">내용:</label>
                                <textarea class="form-control" id="post_content"  style="font-size: 20px;" name="post_content" rows="20"   placeholder="내용을 입력하세요" required></textarea>
                            </div>

                            <div class="form-group mb-3">
                                <label for="post_file" class="form-label" style="font-size: 20px;">사진 첨부:</label>
                                <input type="file" style="font-size: 20px;"class="form-control" id="post_file" name="post_file" >
                            </div>

                            <button type="submit" style="font-size: 20px;" class="btn btn-primary btn-block" onclick="location.href = '/board.html'">나눔 글 작성 완료</button>
                        </div>
                    </form>
                </div>
            </div>



        </div>
    </div>
</div>

<script>
    fetch('/api_post/write', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            point: point,
            post_category: post_category,
            post_title: post_title,
            post_content: post_content,
            post_file: post_file
        })
    })
        .then(response => response.json())
        .then(data => {
            if (data.showAlert) {
                alert(data.alertMessage); // Display the alert message
            }
            // Handle other response data as needed
        });
            // 필

</script>
</body>